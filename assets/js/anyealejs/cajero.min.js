function buscarCliente(){var e=document.getElementById("tipoDocumento2").value,n=document.getElementById("documentoIdentidad2").value;$.ajax({url:"../controller/clientecontroller.php",type:"GET",data:{tipoDocumento:e,documentoIdentidad:n,funcion:"buscarReservacionPorCC"}}).done(function(e){var n=JSON.parse(e),t=document.getElementById("informacionCliente");for(t.innerHTML="",i=0;i<n.length;i++)agregarBusqueda(n[i])})}function agregarBusqueda(e){var n=document.createElement("tr");n.id=e.idCliente;var t=document.getElementById("idCliente");t.value=e.idCliente;var a=document.createElement("td"),o=document.createElement("button");o.className="btn btn-info",o.innerHTML="Seleccionar",o.type="button",o.addEventListener("click",function(){agregarCliente(e.idCliente,e.tipoDocumento,e.documentoIdentidad,e.primerNombre,e.segundoNombre,e.primerApellido,e.segundoApellido)});var r=document.createElement("td");r.innerHTML=e.tipoDocumento;var d=document.createElement("td");d.innerHTML=e.documentoIdentidad;var i=document.createElement("td");i.innerHTML=e.primerNombre+e.segundoNombre;var c=document.createElement("td");c.innerHTML=e.primerApellido+e.segundoApellido;var l=document.createElement("td");l.innerHTML=e.telefono,a.appendChild(o),n.appendChild(a),n.appendChild(r),n.appendChild(d),n.appendChild(i),n.appendChild(c),n.appendChild(l);var m=document.getElementById("informacionCliente");m.appendChild(n)}function crearReservacion(){window.location.href="nuevaReservacion.php?idCliente="+idC}function agregarCliente(e,n,t,a,o,r,d,i,c,l,m,u,p,v,s){var g=document.getElementById("idCliente");g.value=e;var E=document.getElementById("tipoDocumento");E.value=n;var C=document.getElementById("documentoIdentidad");C.value=t;var h=document.getElementById("primerNombre");h.value=a;var f=document.getElementById("primerApellido");f.value=o;var y=document.getElementById("telefono");y.value=r,mostrarReservaciones(),$("#modal-xl").modal("hide"),idC=e;var T=document.getElementById("nuevaReservacion");T.style=""}function mostrarReservaciones(){var e=document.getElementById("idCliente").value;$.ajax({url:"../controller/reservacioncontroller.php",type:"GET",data:{idCliente:e,funcion:"buscarReservacionIdAjax"}}).done(function(e){var n=JSON.parse(e),t=document.getElementById("informacionCliente");for(t.innerHTML="",i=0;i<n.length;i++)agregarReservacion(n[i])})}function agregarReservacion(e){var n=document.getElementById("informacionReservacion"),t=document.getElementById("tablaReservacion");t.style="";var a=document.createElement("tr");a.id=e.idReservacion;var o=document.createElement("td"),r=document.createElement("input");r.setAttribute("type","checkbox"),r.setAttribute("value","datos['idReservacion']"),r.setAttribute("id","reservaciones[]"),r.setAttribute("name","reservaciones[]");var d=document.createElement("td");d.innerHTML=e.nombreServicio;var i=document.createElement("td");i.innerHTML=e.fechaReservacion;var c=document.createElement("td");c.innerHTML=e.horaReservacion;var l=document.createElement("td");1==e.domicilio?l.innerHTML="SI":l.innerHTML="NO";var m=document.createElement("td");m.innerHTML=e.direccion;var u=document.createElement("td");u.className="precio",u.innerHTML=e.precio;var p=document.createElement("td");1==e.validar?p.innerHTML="SI":p.innerHTML="NO",o.appendChild(r),a.appendChild(o),a.appendChild(d),a.appendChild(i),a.appendChild(c),a.appendChild(l),a.appendChild(m),a.appendChild(u),a.appendChild(p),n.appendChild(a)}function buscarProducto(){var e=document.getElementById("codigoProducto").value,n=document.getElementById("nombreProducto").value;$.ajax({url:"../controller/clientecontroller.php",type:"GET",data:{codigoProducto:e,nombreProducto:n,pagina:pagina,funcion:"buscarProductoAjax"}}).done(function(e){console.log(e);var n=e.split("Â®"),t=parseInt(n[0]);numPagina=parseInt(t/5),t%5>0&&numPagina++;var a=document.getElementById("contenedorUL");a.innerHTML="";var o=document.createElement("li");o.className="page-item";var r=document.createElement("button");for(r.className="page-link",r.value=1,r.style.fontFamily="Times New Roman', Times, serif",r.addEventListener("click",function(){modificarPagina(this.value)}),r.innerHTML="&laquo;",o.appendChild(r),a.appendChild(o),i=1;i<=numPagina;i++){var d=document.createElement("li");d.className="page-item";var c=document.createElement("button");c.className="page-link",c.value=i,c.style.fontFamily="Times New Roman', Times, serif",c.addEventListener("click",function(e){modificarPagina(this.value)}),c.innerHTML=i,d.appendChild(c),a.appendChild(d)}var l=document.createElement("li");l.className="page-item";var m=document.createElement("button");m.className="page-link",m.style.fontFamily="Times New Roman', Times, serif",m.value=numPagina,m.addEventListener("click",function(){modificarPagina(this.value)}),m.innerHTML="&raquo;",l.appendChild(m),a.appendChild(l);var u=JSON.parse(n[1]),p=document.getElementById("informacionProducto");for(p.innerHTML="",i=0;i<u.length;i++)agregarProducto(u[i])})}function modificarPagina(e){pagina=e,buscarProducto()}function agregarProducto(e){var n=document.getElementById("informacionProducto"),t=document.createElement("tr");t.id=e.IdProducto;var a=document.createElement("td"),o=document.createElement("button");o.className="btn btn-info",o.innerHTML="Seleccionar",o.type="button",o.addEventListener("click",function(){mostrarProductos(e.IdProducto,e.codigoProducto,e.nombreProducto,e.valorUnitario)});var r=document.createElement("td");r.innerHTML=e.codigoProducto;var d=document.createElement("td");d.innerHTML=e.nombreProducto;var i=document.createElement("td");i.innerHTML=e.valorUnitario,a.appendChild(o),t.appendChild(a),t.appendChild(r),t.appendChild(d),t.appendChild(i),n.appendChild(t)}function mostrarProductos(e,n,t,a){var o=document.getElementById("tablaFacturaProducto"),r=document.getElementById("tablaProducto");r.style="";var d=document.createElement("tr");d.id=e;var i=document.createElement("td");i.innerHTML=n;var c=document.createElement("td");c.innerHTML=t;var l=document.createElement("td"),m=document.createElement("input");m.type="number",m.value="1",m.min="1",m.className="cantidadProducto",m.addEventListener("change",function(){calcularTotalProducto()});var u=document.createElement("td");u.className="valorUnitario",u.innerHTML=a;var p=document.createElement("td"),v=document.createElement("button");v.className="btn btn-danger",v.innerHTML="Eliminar",v.type="button",v.addEventListener("click",function(){eliminarTDProducto(e)}),d.appendChild(i),d.appendChild(c),l.appendChild(m),d.appendChild(l),d.appendChild(u),p.appendChild(v),d.appendChild(p),o.appendChild(d),calcularTotalProducto()}function calcularTotalProducto(){var e=document.getElementById("tablaFacturaProducto"),n=e.querySelectorAll("tr"),t=0;for(i=0;i<n.length;i++){var a=n[i].getElementsByClassName("valorUnitario")[0].innerHTML,o=n[i].getElementsByClassName("cantidadProducto")[0].value,r=parseFloat(a)*o;t+=r}r=document.getElementById("totalProducto");r.innerHTML=t}function eliminarTDProducto(e){var n=document.getElementById("tablaFacturaProducto"),t=document.getElementById(e);n.removeChild(t),calcularTotalProducto()}var idC=0,pagina=1,numPagina=0;