function cargarJS(){productoConsultar()}function productoConsultar(){var e=document.getElementById("producto").value;$.ajax({url:"../controller/pedidocontroller.php",type:"GET",data:{producto:e,pagina:pagina,funcion:"buscarProducto"}}).done(function(e){var n=e.split("Â®"),t=parseInt(n[0]);numPagina=parseInt(t/10),t%10>0&&numPagina++;var a=document.getElementById("contenedorUL");a.innerHTML="";var d=document.createElement("li");d.className="page-item";var o=document.createElement("button");o.className="page-link",o.value="-",o.style.fontFamily="Times New Roman', Times, serif",o.addEventListener("click",function(){modificarPagina(this.value)}),o.innerHTML="&laquo;",d.appendChild(o),a.appendChild(d);var r=document.createElement("span");r.style.fontFamily="Times New Roman', Times, serif",r.style.letterSpacing="3px",r.style.background="white",r.innerHTML=" "+pagina+"/"+numPagina+" ",a.appendChild(r);var c=document.createElement("li");c.className="page-item";var l=document.createElement("button");l.className="page-link",l.style.fontFamily="Times New Roman', Times, serif",l.value="+",l.addEventListener("click",function(){modificarPagina(this.value)}),l.innerHTML="&raquo;",c.appendChild(l),a.appendChild(c);var u=JSON.parse(n[1]),m=document.getElementById("productoResultado");for(m.innerHTML="",i=0;i<u.length;i++)agregarProductoModal(u[i]);0==u.length&&crearTr(4,"productoResultado"),""==m.innerHTML&&crearTr(4,"productoResultado")})}function modificarPagina(e){"-"==e&&pagina>1?pagina-=1:"+"==e&&pagina<numPagina&&(pagina+=1),productoConsultar()}function agregarProductoModal(e){var n=document.createElement("tr");n.id=e.IdProducto;document.getElementById("productoResultado");var t=document.getElementById(e.IdProducto),a=document.createElement("td"),d=document.createElement("button");d.className="btn btn-success",d.innerHTML="Seleccionar",d.type="button",d.addEventListener("click",function(){agregarProducto(e.IdProducto,e.codigoProducto,e.nombreProducto,this)}),null!=t&&(d.innerHTML="Seleccionado",d.className="btn btn-default",d.disabled=!0),a.appendChild(d);var o=document.createElement("td");o.innerHTML=e.codigoProducto;var r=document.createElement("td");r.innerHTML=e.nombreProducto,n.appendChild(a),n.appendChild(o),n.appendChild(r);var i=document.getElementById("productoResultado");i.appendChild(n)}function agregarProducto(e,n,t,a){tab+=1,trEliminar("listarProducto");var d=document.getElementById("listarProducto"),o=document.createElement("tr");o.id=e;var r=document.createElement("input");r.type="text",r.name="productos[]",r.value=e,r.id=e+"oculto",r.style="display: none;";var i=document.createElement("Span");i.style="display: none;",i.id=e+"ocultoSpan";var c=document.createElement("td");c.innerHTML=n;var l=document.createElement("td");l.innerHTML=t;var u=document.createElement("td"),m=document.createElement("input");m.type="number",m.id=e+"input",m.name="cantidadProducto[]",m.className="form-control",m.min=1,m.max=7,m.required=!0,m.tabIndex=tab,m.addEventListener("change",function(){validarCampo(this)}),m.min=1,m.type="number",m.value=1;var p=document.createElement("Span");p.id=e+"inputSpan",u.appendChild(m),u.appendChild(p);var s=document.createElement("td"),g=document.createElement("button");g.className="btn btn-danger",g.innerHTML="Eliminar",g.type="button",g.addEventListener("click",function(){eliminarTR(e)}),s.appendChild(g),o.appendChild(r),o.appendChild(i),o.appendChild(c),o.appendChild(l),o.appendChild(u),o.appendChild(s),d.appendChild(o),a.innerHTML="Seleccionado",a.className="btn btn-default",a.disabled=!0}function eliminarTR(e){var n=document.getElementById("listarProducto"),t=document.getElementById(e);document.getElementById("trVacio");n.removeChild(t),0==n.querySelectorAll("input").length&&crearTr(4,"listarProducto")}var pagina=1,numPagina=0,tab=0;