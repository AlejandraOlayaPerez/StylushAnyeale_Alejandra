function cargarJS(){mostrarReservacion()}function buscarCliente(){var e=document.getElementById("tipoDocumento2").value,n=document.getElementById("documentoIdentidad2").value;$.ajax({url:"../controller/clientecontroller.php",type:"GET",data:{tipoDocumento:e,documentoIdentidad:n,funcion:"buscarReservacionPorCC"}}).done(function(e){var n=JSON.parse(e),t=document.getElementById("listarCliente");for(t.innerHTML="",i=0;i<n.length;i++)agregarBusqueda(n[i])})}function agregarBusqueda(e){var n=document.createElement("tr");n.id=e.idCliente;var t=document.createElement("td");t.innerHTML=e.tipoDocumento;var a=document.createElement("td");a.innerHTML=e.documentoIdentidad;var d=document.createElement("td");d.innerHTML=e.primerNombre+e.segundoNombre;var r=document.createElement("td");r.innerHTML=e.primerApellido+e.segundoApellido;var i=document.createElement("td");i.innerHTML=e.email;var o=document.createElement("td");o.innerHTML=e.telefono,n.appendChild(t),n.appendChild(a),n.appendChild(d),n.appendChild(r),n.appendChild(i),n.appendChild(o);var c=document.getElementById("listarCliente");c.appendChild(n)}function mostrarReservacion(){var e=document.getElementById("fecha").value,n=document.getElementById("domicilio").value,t=document.getElementById("validar").value,a=document.getElementById("cancelado").value;$.ajax({url:"../controller/reservacioncontroller.php",type:"GET",data:{fecha:e,domicilio:n,validar:t,cancelado:a,funcion:"buscarTodasReservacion"}}).done(function(e){console.log(e);var n=JSON.parse(e),t=document.getElementById("listarReservacion");for(t.innerHTML="",i=0;i<n.length;i++)reservas(n[i]);0==n.length&&crearTr(9,"listarReservacion")})}function reservas(e){var n=document.createElement("tr");n.id=e.idReservacion;var t=document.createElement("td");t.innerHTML=e.primerNombre+" "+e.primerApellido;var a=document.createElement("td");a.innerHTML=e.nombreServicio;var d=document.createElement("td");d.innerHTML=e.fechaReservacion;var r=document.createElement("td");r.innerHTML=e.horaReservacion+" a "+e.horaFinal;var i=document.createElement("td");1==e.domicilio?i.innerHTML="SI":i.innerHTML="NO";var o=document.createElement("td");o.innerHTML=e.direccion;var c=document.createElement("td");1==e.validar?c.innerHTML="SI":c.innerHTML="NO";var l=document.createElement("td");1==e.eliminado?l.innerHTML="SI":l.innerHTML="NO";var m=document.createElement("td"),u=document.createElement("div");u.className="btn-group";var p=document.createElement("button");p.type="button",p.className="btn btn-success",p.innerHTML="Acciones";var s=document.createElement("button");s.type="button",s.className="btn btn-success dropdown-toggle",s.setAttribute("data-toggle","dropdown");var v=document.createElement("span");v.className="sr-only",u.appendChild(p),u.appendChild(s),s.appendChild(v);var E=document.createElement("div");E.className="dropdown-menu",E.role="menu";var h=document.createElement("a");h.href="editarReservacion.php?idReservacion="+e.idReservacion+"&idCliente="+e.idCliente,h.className="dropdown-item",h.innerHTML='<i class="fas fa-edit"></i> Editar';var C=document.createElement("a");C.className="dropdown-item",C.setAttribute("data-bs-toggle","modal"),C.setAttribute("data-bs-target","#cancelarReservacion"),C.value=e.idReservacion,C.addEventListener("click",function(){cancelarReservacion(this)}),C.innerHTML='<i class="fas fa-trash-alt"></i> Eliminar';var g=document.createElement("a");g.className="dropdown-item",g.setAttribute("data-bs-toggle","modal"),g.setAttribute("data-bs-target","#eliminarFormulario"),g.value=e.idReservacion,g.addEventListener("click",function(){validarReservacion(this)}),g.innerHTML='<i class="fas fa-check-circle"></i> Validar',u.appendChild(E),0==e.validar&&0==e.eliminado?(E.appendChild(h),E.appendChild(g),E.appendChild(C)):(u=document.createElement("button"),u.innerHTML="Sin Acciones",u.className="btn btn-dark",u.disabled=!0),m.appendChild(u),n.appendChild(t),n.appendChild(a),n.appendChild(d),n.appendChild(r),n.appendChild(i),n.appendChild(o),n.appendChild(c),n.appendChild(l),n.appendChild(m);var b=document.getElementById("listarReservacion");b.appendChild(n)}function cliente(){var e=document.getElementById("tipoDocumento2").value,n=document.getElementById("documentoIdentidad2").value;$.ajax({url:"../controller/clienteController.php",type:"GET",data:{tipoDocumento:e,documentoIdentidad:n,funcion:"buscarReservacionPorCC"}}).done(function(e){var n=JSON.parse(e),t=document.getElementById("cliente");for(t.innerHTML="",i=0;i<n.length;i++)agregarBusqueda(n[i])})}function agregarBusqueda(e){var n=document.createElement("tr");n.id=e.idCliente;var t=document.createElement("td"),a=document.createElement("a");a.className="btn btn-info",a.innerHTML="Seleccionar",a.type="button",a.href="crearReservacion.php?idCliente="+e.idCliente;var d=document.createElement("td");d.innerHTML=e.tipoDocumento;var r=document.createElement("td");r.innerHTML=e.documentoIdentidad;var i=document.createElement("td");i.innerHTML=e.primerNombre+" "+e.primerApellido,t.appendChild(a),n.appendChild(t),n.appendChild(d),n.appendChild(r),n.appendChild(i);var o=document.getElementById("cliente");o.appendChild(n)}cargarJS();