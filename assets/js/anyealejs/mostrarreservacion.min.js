function cargarJS(){mostrarReservacion()}function mostrarReservacion(){var e=document.getElementById("fecha").value,a=document.getElementById("fechaFinal").value,n=document.getElementById("domicilio").value;$.ajax({url:"../controller/reservacioncontroller.php",type:"GET",data:{fecha:e,fechafinal:a,domicilio:n,funcion:"buscarTodasReservacion"}}).done(function(e){var a=JSON.parse(e),n=document.getElementById("listarReservacion");for(n.innerHTML="",i=0;i<a.length;i++)reservas(a[i]);0==a.length&&crearTr(9,"listarReservacion")})}function reservas(e){var a=document.createElement("tr");a.id=e.idReservacion;var n=document.createElement("td");n.innerHTML=e.primerNombre+" "+e.primerApellido;var t=document.createElement("td");t.innerHTML=e.nombreServicio;var r=document.createElement("td");r.innerHTML=e.fechaReservacion;var i=document.createElement("td");i.innerHTML=e.horaReservacion+" a "+e.horaFinal;var d=document.createElement("td");1==e.domicilio?d.innerHTML="SI":d.innerHTML="NO";var c=document.createElement("td");c.innerHTML=e.direccion;var l=document.createElement("td");1==e.validar?l.innerHTML="SI":l.innerHTML="NO";var o=document.createElement("td");1==e.eliminado?o.innerHTML="SI":o.innerHTML="NO";var s=document.createElement("td"),m=document.createElement("div");m.className="btn-group";var p=document.createElement("button");p.type="button",p.className="btn btn-success",p.innerHTML="Acciones";var u=document.createElement("button");u.type="button",u.className="btn btn-success dropdown-toggle",u.setAttribute("data-toggle","dropdown");var v=document.createElement("span");v.className="sr-only",m.appendChild(p),m.appendChild(u),u.appendChild(v);var h=document.createElement("div");h.className="dropdown-menu",h.role="menu";var E=document.createElement("a");E.href="editarReservacion.php?idReservacion="+e.idReservacion+"&idCliente="+e.idCliente,E.className="dropdown-item",E.innerHTML='<i class="fas fa-edit"></i> Editar';var b=document.createElement("a");b.className="dropdown-item",b.setAttribute("data-bs-toggle","modal"),b.setAttribute("data-bs-target","#cancelarReservacion"),b.value=e.idReservacion,b.addEventListener("click",function(){cancelarReservacion(this)}),b.innerHTML='<i class="fas fa-trash-alt"></i> Eliminar';var f=document.createElement("a");f.className="dropdown-item",f.setAttribute("data-bs-toggle","modal"),f.setAttribute("data-bs-target","#eliminarFormulario"),f.value=e.idReservacion,f.addEventListener("click",function(){validarReservacion(this)}),f.innerHTML='<i class="fas fa-check-circle"></i> Validar',m.appendChild(h),0==e.validar&&0==e.eliminado?(h.appendChild(E),h.appendChild(f),h.appendChild(b)):(m=document.createElement("button"),m.innerHTML="Sin Acciones",m.className="btn btn-dark",m.disabled=!0),s.appendChild(m),a.appendChild(n),a.appendChild(t),a.appendChild(r),a.appendChild(i),a.appendChild(d),a.appendChild(c),a.appendChild(l),a.appendChild(o),a.appendChild(s);var g=document.getElementById("listarReservacion");g.appendChild(a)}cargarJS();